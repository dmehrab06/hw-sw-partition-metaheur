# Graph and problem configuration
graph-file: "inputs/task_graph_topology/soda-benchmark-graphs/pytorch-graphs/squeeze_net_tosa.dot"
area-constraint: 0.5
hw-scale-factor: 0.1
hw-scale-variance: 0.5
comm-scale-factor: 1.0
seed: 42
solver-tool: "cvxpy"
solution-dir: "makespan-opt-partitions"
result-file-prefix: "makespan_opt_gnn"
output-dir: "outputs"
taskgraph-dir: "inputs/task_graph_complete"
taskgraph-pickle: "inputs/task_graph_complete/taskgraph-squeeze_net_tosa-instance-config-config_mkspan_default_gnn.pkl"
opt-cost-type: "mip"
# opt-cost-type: "mip"
# opt-cost-type: "default"

visualization:
  enabled: true
  include_input_graph: true
  include_output_schedule: true
  out_dir: "outputs/final_visualizations/mkspan_default_dls_hybrid"
  input_dir: "outputs/final_visualizations/mkspan_default_dls_hybrid/input"
  schedule_dir: "outputs/final_visualizations/mkspan_default_dls_hybrid/schedule"
  strict_partitions: false

# Random assignment trials
random:
    num_samples: 500
    p: 0.5

# PSO Configuration
pso:
  c1: 0.575
  c2: 0.1
  w: 1.05
  n_particles: 500
  iterations: 10
  verbose: True

# Discrete Binary PSO Configuration
dbpso:
  c1: 0.575
  c2: 0.1
  w: 1.05
  k: 4
  p: 2
  n_particles: 500
  iterations: 10
  verbose: True

# Comprehensive Learning PSO Configuration
clpso:
  c: 1
  n_individuals: 500
  iterations: 200
  verbose: 500

# Comprehensive Learning PSO Configuration
ccpso:
  c: 1
  n_individuals: 500
  verbose: 500
  iterations: 200
  group_sizes: [5,10,20]

# Genetic GL25 configuration
gl25:
  iter: 2000
  n_pop: 500
  verbose: 500

shade:
  iter: 2000
  n_individuals: 500
  verbose: 500

jade:
    iter: 2000
    n_individuals: 500
    verbose: 500

esa:
    iter: 1000
    verbose: 500

non_diffgnn:
    iter: 500
    verbose: 500

diffgnn:
    iter: 1000
    verbose: 1000
    device: "gpu"
    hidden_dim: 256
    num_layers: 3
    dropout: 0.5
    model: "default"
    regularizer_profile: "legacy"
    selection_metric: "queue"
    selection_metric_train: "queue"
    selection_metric_final: "legacy_lp"
    final_legacy_lp_if_mip: true
    reuse_trained_final_cost: true
    speed_patch: true
    hard_eval_every: 200
    postprocess:
      mode: "hybrid"
      during_train: true
      eval_mode: "taskgraph"
      max_iters: 12
      enable_area_fill: true
      fill_allow_worsen: 0.0
      enable_swap: false
      dls_steps: 2
      dls_flip_eta: 0.35
      dls_swap_eta: 0.18
      dls_score_temp: 0.70
      dls_comm_coeff: 0.02
      dls_area_proj_iters: 4
      dls_area_proj_strength: 6.0
      dls_fill_decode: true

diffgnn_order:
    iter: 1000
    verbose: 1000
    device: "gpu"
    hidden_dim: 256
    num_layers: 3
    dropout: 0.5
    model: "default"
    speed_patch: true
    hard_eval_every: 200
    fast_mode: true
    sinkhorn_iters: 8
    order_refine_steps: 1
    gumbel_noise: false
    gumbel_scale: 0.0
    postprocess:
      mode: "hybrid"
      during_train: true
      eval_mode: "taskgraph"
      max_iters: 12
      enable_area_fill: true
      fill_allow_worsen: 0.0
      enable_swap: false
      dls_steps: 2
      dls_flip_eta: 0.35
      dls_swap_eta: 0.18
      dls_score_temp: 0.70
      dls_comm_coeff: 0.02
      dls_area_proj_iters: 4
      dls_area_proj_strength: 6.0
      dls_fill_decode: true

gcon:
    iter: 500
    verbose: 500
    device: "gpu"
